<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gl.givuluv.mapper.ProductMapper">
   <!--회원가입시 유저정보 DB에 저장-->
   <insert id="insertSBoardProduct">
      insert into product(productname, p_amount, cost, connectid, p_type)
      values(#{productname}, #{pAmount}, #{cost}, #{connectid}, 'M')
   </insert>
   <insert id="insertFundingProduct">
      insert into product(productname, p_amount, cost, connectid, p_type)
      values(#{productname}, #{pAmount}, #{cost}, #{connectid}, 'F')
   </insert>
   <select id="getList">
		select * from product where p_type='M' order by productnum desc
   </select>
   
   <select id="getCategoryList">
		SELECT p.*
		FROM product p
		JOIN s_board sb ON p.connectid = sb.s_boardnum
		JOIN store st ON sb.s_num = st.s_num
		JOIN seller s ON st.sellerid = s.sellerid
		WHERE s.sellercategory = #{categoty}
		order by productnum desc
   </select>
   
   <select id="getProductConnectid">
		select distinct connectid from product
   </select>
   <select id="getProductByConnectid">
		select * from product where connectid=#{fBoardnum} and p_type='F'
   </select>
   <select id="getProduct">
		select * from product where productnum = #{productnum}
   </select>
   
</mapper>