<!DOCTYPE html>
<html>

<head>
   <script src="https://kit.fontawesome.com/516da99189.js" crossorigin="anonymous"></script>
   <link rel="stylesheet" href="/css/write.css">
   <link rel="stylesheet" href="/css/summernote/summernote-lite.css">
</head>

<body>
   <!-- 헤더 -->
   <div class="writeheader">
      <div class="writeheaderleft">
          <img class=logo src="/images/GivuLuv_logo.png" alt="">
         <p>글쓰기</p>
      </div>
      <a href="#" class="btn">등록</a>
   </div>
   
   <!-- 컨텐츠 -->
   
   <div class="wrap donationwrite write">
      <form method="post">
		 <input type="text" placeholder="제목">
         <textarea id="summernote" name="editordata"></textarea>
		 <input type="button" value="옵션">
      </form>
   </div>
   
</body>
<script src="/js/jquery-3.7.1.min.js"></script>
<script src="/js/summernote/summernote-lite.js"></script>
<script src="/js/summernote/lang/summernote-ko-KR.js"></script>
<script>
   $(document).ready(function() {
      //여기 아래 부분
      $('#summernote').summernote({
           height: 300,                 // 에디터 높이
           minHeight: null,             // 최소 높이
           maxHeight: null,             // 최대 높이
           focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
           lang: "ko-KR",               // 한글 설정
           placeholder: '최대 2048자까지 쓸 수 있습니다'   //placeholder 설정
             
      });
   });
   $('#summernote').summernote({
     placeholder: '글을 작성해주세요.',
     minHeight: 600,             // 최소 높이
     maxHeight: 600,             // 최대 높이
     height: 600,              // 기초 높이
     tabsize: 2,
     focus: true,
     lang: "ko-KR",
     toolbar: [              // 툴바 설정
        ['fontname', ['fontname']],
      ['fontsize', ['fontsize']],
       ['style', ['bold', 'italic', 'underline','strikethrough', 'clear']],
       ['font', ['bold', 'underline', 'clear']],
      ['color', ['forecolor','color']],
      ['table', ['table']],
       ['para', ['ul', 'ol', 'paragraph']],
      ['height', ['height']],
       ['insert', ['link', 'picture']],
       ['view', ['help']]
     ],
     fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New','맑은 고딕','궁서','굴림체','굴림','돋움체','바탕체'],
     fontSizes: ['8','9','10','11','12','14','16','18','20','22','24','28','30','36','50','72'],
     callbacks: {   //이미지를 첨부
                    onImageUpload : function(files) {
                       uploadSummernoteImageFile(files[0],this);
                    },
                    onPaste: function (e) {
                       var clipboardData = e.originalEvent.clipboardData;
                       if (clipboardData && clipboardData.items && clipboardData.items.length) {
                          var item = clipboardData.items[0];
                          if (item.kind === 'file' && item.type.indexOf('image/') !== -1) {
                             e.preventDefault();
                          }
                       }
                    }
                 }
   });
   function uploadSummernoteImageFile(file, editor) {
      data = new FormData();
      data.append("file", file);
	  
	  console.log('사진 넣기');
	  
      $.ajax({
         data : data,
         type : "POST",
         url : "/file/uploadSummernoteImageFile",
         contentType : false,
         processData : false,
         success : function(data) {
              //항상 업로드된 파일의 url이 있어야 한다.
            $(editor).summernote('insertImage', data.url);
         }
      });
   }
</script>

</html>